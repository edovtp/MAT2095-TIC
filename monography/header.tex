\usepackage{amsmath}
\usepackage[utf8]{inputenc}
\usepackage[framemethod=TikZ]{mdframed}
\usepackage{tcolorbox}
\usepackage{ntheorem}
\usepackage{aligned-overset}
\tcbuselibrary{skins, breakable}
%% the following is commaon for all examples in mdframed manual
\mdfsetup{skipabove=\topskip,skipbelow=\topskip}
%%% upto here
\newcounter{definicion}[section]
\newenvironment{definicion}[1][]{%
\stepcounter{definicion}%
\ifstrempty{#1}%
 {\mdfsetup{%
   frametitle={%
    \tikz[baseline=(current bounding box.east),outer sep=0pt]
    \node[anchor=east,rectangle,fill=blue!20]
         {\strut Definici贸n~\thedefinicion};}}
 }%
{\mdfsetup{%
  frametitle={%
   \tikz[baseline=(current bounding box.east),outer sep=0pt]
   \node[anchor=east,rectangle,fill=blue!20]
        {\strut Definici贸n~\thedefinicion:~#1};}}%
 }%
\mdfsetup{innertopmargin=10pt,linecolor=blue!20,%
       linewidth=2pt,topline=true,
       frametitleaboveskip=\dimexpr-\ht\strutbox\relax,}
   \begin{mdframed}[]\relax%
}
{\end{mdframed}}

\newcounter{proposicion}[section]
\newenvironment{proposicion}[1][]{%
\stepcounter{proposicion}%
\ifstrempty{#1}%
 {\mdfsetup{%
   frametitle={%
    \tikz[baseline=(current bounding box.east),outer sep=0pt]
    \node[anchor=east,rectangle,fill=green!20]
         {\strut Proposici贸n~\theproposicion};}}
 }%
{\mdfsetup{%
  frametitle={%
   \tikz[baseline=(current bounding box.east),outer sep=0pt]
   \node[anchor=east,rectangle,fill=green!20]
        {\strut Proposici贸n~\theproposicion:~#1};}}%
 }%
\mdfsetup{innertopmargin=10pt,linecolor=green!20,%
       linewidth=2pt,topline=true,
       frametitleaboveskip=\dimexpr-\ht\strutbox\relax,}
   \begin{mdframed}[]\relax%
}
{\end{mdframed}}

\newcounter{theo}[section]
\newenvironment{theo}[1][]{%
\stepcounter{theo}%
\ifstrempty{#1}%
 {\mdfsetup{%
   frametitle={%
    \tikz[baseline=(current bounding box.east),outer sep=0pt]
    \node[anchor=east,rectangle,fill=red!20]
         {\strut Teorema~\thetheo};}}
 }%
{\mdfsetup{%
  frametitle={%
   \tikz[baseline=(current bounding box.east),outer sep=0pt]
   \node[anchor=east,rectangle,fill=red!20]
        {\strut Teorema~\thetheo:~#1};}}%
 }%
\mdfsetup{innertopmargin=10pt,linecolor=red!20,%
       linewidth=2pt,topline=true,
       frametitleaboveskip=\dimexpr-\ht\strutbox\relax,}
   \begin{mdframed}[]\relax%
}
{\end{mdframed}}

\newcounter{ejemplo}[section]
\newenvironment{ejemplo}[1][]{%
\stepcounter{ejemplo}%
\ifstrempty{#1}%
 {\mdfsetup{%
   frametitle={%
    \tikz[baseline=(current bounding box.east),outer sep=0pt]
    \node[anchor=east,rectangle,fill=yellow!20]
         {\strut Ejemplo~\theejemplo};}}
 }%
{\mdfsetup{%
  frametitle={%
   \tikz[baseline=(current bounding box.east),outer sep=0pt]
   \node[anchor=east,rectangle,fill=yellow!20]
        {\strut Ejemplo~\theejemplo:~#1};}}%
 }%
\mdfsetup{innertopmargin=10pt,linecolor=yellow!20,%
       linewidth=2pt,topline=true,
       frametitleaboveskip=\dimexpr-\ht\strutbox\relax,}
   \begin{mdframed}[]\relax%
}
{\end{mdframed}}

\newcounter{propiedad}[section]
\newenvironment{propiedad}[1][]{%
\stepcounter{propiedad}%
\ifstrempty{#1}%
 {\mdfsetup{%
   frametitle={%
    \tikz[baseline=(current bounding box.east),outer sep=0pt]
    \node[anchor=east,rectangle,fill=orange!20]
         {\strut Propiedades~\thepropiedad};}}
 }%
{\mdfsetup{%
  frametitle={%
   \tikz[baseline=(current bounding box.east),outer sep=0pt]
   \node[anchor=east,rectangle,fill=orange!20]
        {\strut Propiedades~\thepropiedad:~#1};}}%
 }%
\mdfsetup{innertopmargin=10pt,linecolor=orange!20,%
       linewidth=2pt,topline=true,
       frametitleaboveskip=\dimexpr-\ht\strutbox\relax,}
   \begin{mdframed}[]\relax%
}
{\end{mdframed}}

\newtheorem*{nota}{Nota:}% from 'amsthm'
\tcolorboxenvironment{nota}{%
  enhanced jigsaw,
  boxrule=-1pt,
  colframe=white,
  borderline west={2pt}{0pt}{gray},  % second argument is the offset
  interior hidden,
  breakable,
  before skip=2.5ex plus 2pt,
  after skip=2.5ex plus 2pt
}
